<p>This is another recount of an experience I had refactoring some C++ code recently.&nbsp; In some ways this is also a follow up of my previous post about why you shouldn't use <a href="http://blogs.msdn.com/jaredpar/archive/2007/01/23/boolean-parameters.aspx">boolean parameters</a> (especially default value ones).</p> <p>I recently refactored a large set of API's in our code base to remove a common parameter.&nbsp; It was a member variable that was constantly being passed as an argument.&nbsp; For many reasons we decide that this was unacceptable and it was better to use the member variable for instance methods and if needed define static methods which took the parameter as a value.&nbsp; </p> <p>After making the switch I recompiled and starting running regression suites on the code and found that a whole set were failing.&nbsp; It turns out that many of our methods had the following pattern. </p><pre class="code"><span style="color: rgb(0,0,255)">class</span> Student;

<span style="color: rgb(0,0,255)">int</span> CalculateValue(Student *pStudent, Manager *pManager, <span style="color: rgb(0,0,255)">bool</span> cache=<span style="color: rgb(0,0,255)">false</span>);</pre>
<p>The parameter I was removing was "pManager".&nbsp; So now we have a function that used to take 2 or 3 arguments and now takes 1 or 2 arguments.&nbsp; Unfortunately, now all of the places that used to call this function with 2 arguments will now recompile without warning since pointers are implicitly convertible to booleans.&nbsp; </p>
<p>No matter.&nbsp; Redefined the method with the same arguments and did not specify an implementation.&nbsp; This caused compiler errors where necessary and allowed me to fixup the calling code.&nbsp; </p>
<p>Boolean parameters are troublesome.&nbsp; Defaulted value boolean parameters are much more so. </p>
<p>Yes you could attribute this to the fact that I didn't fully think through a subset of my changes and that's certainly fair.&nbsp; However if we practiced good coding standards up front, this could have been avoided.&nbsp; If we had originally done any of the following the code would be more resilient to changes.</p>
<ol>
<li>Chosen an enum instead of a boolean parameter</li>
<li>Forced the caller to specify the boolean parameter by not providing a default</li></ol></div>
    